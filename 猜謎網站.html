<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¶£å‘³çŒœè¬éŠæˆ²</title>
    <style>
        /* CSS æ¨£å¼ - è—ç°è‰²èª¿ */
        :root {
            --primary-blue: #5b7dae; /* ä¸»è—è‰² */
            --secondary-gray: #eef1f6; /* æ·ºç°è‰²èƒŒæ™¯ */
            --dark-text: #2c3e50; /* æ·±è—è‰²æ–‡å­— */
            --light-bg: #ffffff; /* å…§å®¹å€å¡Šç™½è‰²èƒŒæ™¯ */
            --success-color: #80eeae; /* æˆåŠŸç¶ è‰² */
            --failure-color: #f23824; /* å¤±æ•—ç´…è‰² */
            --border-color: #bdc3c7; /* å€å¡Šé‚Šæ¡†é¡è‰² */
            --hint-color: #f3bb61; /* æç¤ºé»ƒè‰² */
        }

        body {
            font-family: 'å¾®è»Ÿæ­£é»‘é«”', Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: var(--secondary-gray);
            color: var(--dark-text);
            padding: 20px;
        }

        .quiz-container {
            background-color: var(--light-bg);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            width: 80%;
            max-width: 600px;
            margin-bottom: 20px;
            border: 3px solid var(--border-color); 
            transition: border-color 0.3s, box-shadow 0.3s; 
        }

        h1 {
            color: var(--primary-blue);
            text-align: center;
            margin-bottom: 20px;
        }

        .question {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background-color: #f7f9fb; 
        }

        .question p {
            font-size: 1.1em;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .question input[type="text"] {
            padding: 10px;
            margin-right: 10px;
            border: 1px solid #bdc3c7;
            border-radius: 5px;
            width: 60%;
            outline-color: var(--primary-blue);
        }

        .question button {
            padding: 10px 15px;
            background-color: var(--primary-blue); 
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .question button:hover {
            background-color: #4a6c98;
        }


        /* æ–°å¢çš„æç¤ºå€å¡Šæ¨£å¼ */
        .hint {
            margin-top: 10px;
            padding: 10px;
            background-color: #f9e9d4; /* æ·ºé»ƒè‰²èƒŒæ™¯ */
            color: var(--hint-color); 
            border: 1px solid var(--hint-color);
            border-radius: 5px;
            font-size: 0.95em;
            font-weight: bold;
            display: none; /* é è¨­éš±è—æç¤º */
            opacity: 0; /* ç”¨æ–¼æ·¡å…¥å‹•ç•«çš„èµ·å§‹ç‹€æ…‹ */
            transition: opacity 0.5s ease-in-out;
        }

        /* æç¤ºå€å¡Šé¡¯ç¤ºæ™‚çš„æ¨£å¼ */
        .hint.visible {
            display: block;
            opacity: 1; /* æ·¡å…¥æ•ˆæœ */
        }
        
        .result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            min-height: 40px;
            font-weight: bold;
            text-align: center;
            transition: all 0.5s ease;
        }

        /* æˆåŠŸå’Œå¤±æ•—çš„å›é¥‹æ¨£å¼ */
        .success { background-color: #d4efdf; color: var(--success-color); }
        .failure { background-color: #f9e3e2; color: var(--failure-color); animation: shake 0.5s; }
        .container-success { animation: container-fireworks 0.6s 2; }
        .container-failure { animation: container-shake 0.4s 3; }
        
        /* å‹•ç•« keyframes */
        @keyframes fireworks {  
            from { transform: scale(1); opacity: 1; }
            to { transform: scale(1.02); opacity: 0.95; } }
        @keyframes shake {  
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-3px); }
            20%, 40%, 60%, 80% { transform: translateX(3px); } }
        @keyframes container-fireworks {  
            0% { border-color: var(--success-color); box-shadow: 0 0 10px var(--success-color); }
            50% { border-color: var(--border-color); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15); }
            100% { border-color: var(--success-color); box-shadow: 0 0 10px var(--success-color); }}
        @keyframes container-shake {   
            0%, 100% { border-color: var(--failure-color); }
            25%, 75% { border-color: var(--border-color); } }
    </style>
</head>
<body>

    <div class="quiz-container" id="mainContainer">
        <h1>çŒœè¬å¤§æŒ‘æˆ°!</h1>

        <div class="question" data-id="1">
            <p>1. ä»€éº¼æ±è¥¿çœ‹ä¸åˆ°ã€æ‘¸ä¸è‘—ï¼Œå»éå¸¸é‡è¦ï¼Ÿ</p>
            <input type="text" id="answer1" placeholder="è¼¸å…¥ç­”æ¡ˆ">
            <button onclick="checkAnswer(1, 'ç©ºæ°£')">é€å‡º</button>
            <div class="result" id="result1"></div>
            <div class="hint" id="hint1">ğŸ’¡ æç¤ºï¼šæ‰€æœ‰ç”Ÿç‰©éƒ½éœ€è¦å®ƒæ‰èƒ½æ´»è‘—ã€‚</div>
        </div>

        <div class="question" data-id="2">
            <p>2. æœ‰ä¸€ä½å…ˆç”Ÿï¼Œä»–ä¸ç®¡ä»€éº¼äº‹éƒ½è¦å…ˆå•ã€Œç‚ºä»€éº¼ã€ï¼Œè«‹å•ä»–æ˜¯èª°ï¼Ÿ</p>
            <input type="text" id="answer2" placeholder="è¼¸å…¥ç­”æ¡ˆ">
            <button onclick="checkAnswer(2, 'è€ç‹')">é€å‡º</button>
            <div class="result" id="result2"></div>
            <div class="hint" id="hint2">ğŸ’¡ æç¤ºï¼šè«‹æ³¨æ„ã€Œç‚ºä»€éº¼ã€ä¸‰å€‹å­—çš„ç™¼éŸ³ã€‚</div>
        </div>

        <div class="question" data-id="3">
            <p>3. ä»€éº¼æ±è¥¿è¶Šæ´—è¶Šé«’ï¼Ÿ</p>
            <input type="text" id="answer3" placeholder="è¼¸å…¥ç­”æ¡ˆ">
            <button onclick="checkAnswer(3, 'æ°´')">é€å‡º</button>
            <div class="result" id="result3"></div>
            <div class="hint" id="hint3">ğŸ’¡ æç¤ºï¼šä½ æ´—çš„æ˜¯ä»€éº¼ï¼Ÿå®ƒæœ¬èº«æ˜¯ä¹¾æ·¨çš„ã€‚</div>
        </div>
    </div>

    <script>
        // JavaScript é‚è¼¯
        const correctMessage = "çŒœå°äº†! ğŸ‘ğŸ‘ğŸ‘ ğŸ†ğŸ†ğŸ† (å•ªå•ªå•ªå’»è¹¦)";
        const wrongMessage = "ğŸ’¥ğŸ’¥ğŸ’¥ è«‹å†è©¦ä¸€æ¬¡!!!!!!!!! (æ¡æ‹³)";
        
        // ç”¨ä¾†è¿½è¹¤æ¯å€‹é¡Œç›®ç­”éŒ¯çš„æ¬¡æ•¸
        const wrongAttempts = {
            1: 0,
            2: 0,
            3: 0
        };

        /**
         * åŸ·è¡Œä¸»å€å¡Š (quiz-container) çš„å‹•ç•«
         */
        function runContainerAnimation(isCorrect) {
            const container = document.getElementById('mainContainer');
            container.classList.remove('container-success', 'container-failure');
            
            const animationClass = isCorrect ? 'container-success' : 'container-failure';
            const duration = isCorrect ? 700 : 500;

            container.classList.add(animationClass);
            setTimeout(() => {
                container.classList.remove(animationClass);
            }, duration); 
        }


        /**
         * æª¢æŸ¥ä½¿ç”¨è€…è¼¸å…¥çš„ç­”æ¡ˆæ˜¯å¦æ­£ç¢º
         */
        function checkAnswer(quizId, correctAnswer) {
            const inputElement = document.getElementById(`answer${quizId}`);
            const resultElement = document.getElementById(`result${quizId}`);
            const hintElement = document.getElementById(`hint${quizId}`); // å–å¾—æç¤ºå…ƒç´ 
            
            const userAnswer = inputElement.value.trim().toLowerCase();
            const correct = correctAnswer.toLowerCase();
            const isCorrect = (userAnswer === correct);

            // æ¸…é™¤è©²çµæœå€å¡Šçš„æ¨£å¼å’Œå‹•ç•«
            resultElement.className = 'result'; 
            resultElement.style.animation = '';
            
            // åŸ·è¡Œä¸»å€å¡Šå‹•ç•«
            runContainerAnimation(isCorrect);

            if (isCorrect) {
                // ç­”å°çš„è™•ç†
                resultElement.textContent = correctMessage;
                resultElement.classList.add('success');
                resultElement.style.animation = 'fireworks 0.3s infinite alternate';
                
                // ç­”å°å¾Œéš±è—æç¤º
                hintElement.classList.remove('visible');
                
                // ç­”å°å¾Œå°‡è©²é¡Œçš„ç­”éŒ¯æ¬¡æ•¸æ­¸é›¶ (é¿å…å¾ŒçºŒå½±éŸ¿)
                wrongAttempts[quizId] = 0; 
                
            } else {
                // ç­”éŒ¯çš„è™•ç†
                wrongAttempts[quizId]++; // ç­”éŒ¯æ¬¡æ•¸åŠ ä¸€
                
                resultElement.textContent = wrongMessage;
                resultElement.classList.add('failure');
                resultElement.style.animation = 'shake 0.5s';

                // ç­”éŒ¯ä¸€æ¬¡å¾Œé¡¯ç¤ºæç¤º
                if (wrongAttempts[quizId] === 1) {
                    hintElement.classList.add('visible'); // é¡¯ç¤ºæç¤º
                }
            }
        }
    </script>
</body>
</html>